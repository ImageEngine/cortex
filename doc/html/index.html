<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Cortex: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li class="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Cortex Documentation</h1><h3>7.0.0 </h3><p>The <a class="el" href="namespaceIECore.html" title="This namespace contains all components of the core library.">IECore</a> library provides a C++ and Python framework for visual effects development. It was originally developed at Image Engine and is now developed as part of the open source Cortex project. The sections below provide a fairly high level overview of the library, and a few useful jumping off points for learning more.</p>
<p><a class="el" href="index.html#mainPageMathSection">Math</a> <br/>
 <a class="el" href="index.html#mainPageMemoryManagementSection">Memory Management</a> <br/>
 <a class="el" href="index.html#mainPageRTTISection">RTTI</a> <br/>
 <a class="el" href="index.html#mainPageObjectSection">The Object class</a> <br/>
 <a class="el" href="index.html#mainPageDataSection">The Data classes</a> <br/>
 <a class="el" href="index.html#mainPageParameterisedSection">The Parameter and Parameterised classes</a> <br/>
 <a class="el" href="index.html#mainPageIOSection">IO</a> <br/>
 <a class="el" href="index.html#mainPageRenderingSection">Rendering</a> <br/>
 <a class="el" href="index.html#mainPageAlgorithmsSection">Algorithms</a> <br/>
 <a class="el" href="index.html#mainPagePythonSection">Python</a> <br/>
 <a class="el" href="index.html#mainPageApplicationSupportSection">Application support</a> <br/>
 <a class="el" href="index.html#mainPageThreadingSection">Threading</a> <br/>
</p>
<h2><a class="anchor" id="mainPageMathSection">
Math</a></h2>
<p>Basic math types are provided by the Imath library which comes as part of the <a href="http://www.openexr.org">OpenEXR package</a>. Any additional types are designed along similar lines - for example the templated TransformationMatrix class.</p>
<p>The <a class="el" href="structIECore_1_1VectorTraits.html">VectorTraits </a> and <a class="el" href="structIECore_1_1MatrixTraits.html">MatrixTraits </a> classes provide a template based mechanism for querying the dimensions of vector and matrix classes, and for setting and getting their elements. This allows coding compatible with both the Imath types and other 3rd party math types. The <a class="el" href="VectorOps_8h.html">VectorOps.h</a> and <a class="el" href="MatrixOps_8h.html">MatrixOps.h</a> files then provide common operations on top of this lower level access, allowing classes such as <a class="el" href="classIECore_1_1KDTree.html">KDTree </a> and <a class="el" href="classIECore_1_1PerlinNoise.html">PerlinNoise </a> to operate both on native <a class="el" href="namespaceIECore.html" title="This namespace contains all components of the core library.">IECore</a> types and application specific types such as the Maya MPoint and MVector classes.</p>
<p>The <a class="el" href="VectorOps_8h.html">VectorOps.h</a> and <a class="el" href="MatrixOps_8h.html">MatrixOps.h</a> code provides a pretty ugly c-style function based interface - functional enough to provide library components like the KDTree but not useable enough for everyday coding. It may be better in the future to create object oriented template wrappers for 3rd party maths types - these wrappers could still use the Traits classes for low level access.</p>
<h2><a class="anchor" id="mainPageMemoryManagementSection">
Memory Management</a></h2>
<p><a class="el" href="namespaceIECore.html" title="This namespace contains all components of the core library.">IECore</a> uses reference counting for any reasonably complex class. The <a class="el" href="classIECore_1_1RefCounted.html">RefCounted </a> base class provides an internal reference count for the object, and <a class="el" href="classIECore_1_1IntrusivePtr.html">IECore::IntrusivePtr</a> is used most places where raw pointers would otherwise be used. This means that generally you don't need to worry about memory management - objects die appropriately when the last IntrusivePtr pointing to them goes out of scope.</p>
<p>For convenience, all classes define typedefs of the form ClassPtr, ConstClassPtr, Class::Ptr and Class::ConstPtr - these should be used in preference to the clunkier IntrusivePtr&lt;Class&gt; syntax.</p>
<div class="fragment"><pre class="fragment">        {
                CompoundDataPtr c = <span class="keyword">new</span> CompoundData;
                {
                        DataPtr d = <span class="keyword">new</span> IntVectorData;
                        c-&gt;writable()[<span class="stringliteral">&quot;d&quot;</span>] = d;
                        <span class="comment">// d goes out of scope, but the CompoundData still</span>
                        <span class="comment">// holds a reference to the IntVectorData</span>
                }
                <span class="comment">// the original IntVectorData object dies when it&apos;s</span>
                <span class="comment">// replaced by the FloatVectorData.</span>
                c-&gt;writable()[<span class="stringliteral">&quot;d&quot;</span>] = <span class="keyword">new</span> FloatVectorData;
                <span class="comment">// all the objects die appropriately when c goes out of scope</span>
        }
</pre></div><h2><a class="anchor" id="mainPageRTTISection">
RTTI</a></h2>
<p><a class="el" href="namespaceIECore.html" title="This namespace contains all components of the core library.">IECore</a> uses its own mechanism for type identification. This comes in the form of the <a class="el" href="classIECore_1_1RunTimeTyped.html">RunTimeTyped </a> base class, and the runTimeCast function.</p>
<div class="fragment"><pre class="fragment"> <span class="keywordtype">void</span> incrementIntData( ConstDataPtr d )
 {
                ConstIntDataPtr f = runTimeCast&lt;const IntData&gt;( d );
                <span class="keywordflow">if</span>( f )
                {
                        f-&gt;writable()++;
                }
                <span class="keywordflow">else</span>
                {
                        cerr &lt;&lt; <span class="stringliteral">&quot;I didn&apos;t want an instance of class &quot;</span> &lt;&lt; d-&gt;typeName() &lt;&lt; endl;
                }
 }
</pre></div><p>See the documentation for the RunTimeTyped class for the rationale behind not using the built in C++ typeinfo system.</p>
<h2><a class="anchor" id="mainPageObjectSection">
The Object class</a></h2>
<p>The <a class="el" href="classIECore_1_1Object.html">Object </a> class defines methods for serialisation and copying, and provides a factory mechanism.</p>
<div class="fragment"><pre class="fragment">        ObjectPtr i0 = <span class="keyword">new</span> IntData;
        ObjectPtr i1 = Object::create( IntData::staticTypeId() );
        ObjectPtr i2 = i1-&gt;copy();

        i1-&gt;save( <span class="stringliteral">&quot;i.cob&quot;</span> );
        IntDataPtr i3 = runTimeCast&lt;IntData&gt;( Object::load( <span class="stringliteral">&quot;i.cob&quot;</span> ) );
</pre></div><h2><a class="anchor" id="mainPageDataSection">
The Data classes</a></h2>
<p>The <a class="el" href="classIECore_1_1Data.html">Data </a> classes derive from <a class="el" href="classIECore_1_1Object.html">Object </a> and provide simple wrappers around basic datatypes and std::vectors of those datatypes. They implement the copy() method in a lazy manner, so you don't pay for a copy until you modify it. For this reason, you use the readable() and writable() methods to get access to the underlying data.</p>
<div class="fragment"><pre class="fragment">        IntVectorDataPtr i = <span class="keyword">new</span> IntVectorData;
        i-&gt;writable().resize( 10000 );
        IntVectorDataPtr ii = i-&gt;copy();
        <span class="comment">// at this point, no additional memory has been used for the copy</span>
        cerr &lt;&lt; ii-&gt;readable()[0];
        <span class="comment">// we only did a read, so still no memory overhead</span>
        ii-&gt;writable()[0] = 0;
        <span class="comment">// we called writable, so have to pay for the copy now to avoid</span>
        <span class="comment">// modifying the original data</span>
</pre></div><h2><a class="anchor" id="mainPageParameterisedSection">
The Parameter and Parameterised classes</a></h2>
<p>The <a class="el" href="classIECore_1_1Parameter.html">Parameter </a> classes provide a means of describing values to be passed to some process, and the Parameterised class stores a bunch of parameters. Parameters provide enough information for different host applications to represent them appropriately. The <a class="el" href="namespaceIECore.html" title="This namespace contains all components of the core library.">IECore</a> library provides a means of formatting parameter help for display in the terminal and for parsing parameter values from a command line. The <a class="el" href="namespaceIECoreMaya.html" title="The IECoreMaya namespace holds all the functionality of libIECoreMaya.">IECoreMaya</a> library allows parameters to be represented as attributes on Maya nodes, and creates custom attribute editor layouts for them.</p>
<p>Concrete implementations of the <a class="el" href="classIECore_1_1Parameterised.html">Parameterised </a> class include the <a class="el" href="classIECore_1_1Op.html">Op </a> subclasses, which have an operate() method to compute some result from the input Parameters, the <a class="el" href="classIECore_1_1Renderer_1_1Procedural.html">Procedural </a> classes which define an interface for the rendertime generation of geometry, and the <a class="el" href="classIECore_1_1Reader.html">Reader </a> and <a class="el" href="classIECore_1_1Writer.html">Writer </a> classes which are described briefly below.</p>
<h2><a class="anchor" id="mainPageIOSection">
IO</a></h2>
<p>As we saw above, Objects have a built in serialisation mechanism. This makes use of the <a class="el" href="classIECore_1_1IndexedIOInterface.html">IndexedIOInterface </a>, which defines a mechanism for the creation of random access files containing a hierarchy of named data items. Currently the main implementation of this interface is <a class="el" href="classIECore_1_1FileIndexedIO.html">FileIndexedIO </a>, with <a class="el" href="classIECore_1_1FileSystemIndexedIO.html">FileSystemIndexedIO </a> implementing a reference solution of use for debugging and the like.</p>
<p>The <a class="el" href="classIECore_1_1AttributeCache.html">AttributeCache </a> and <a class="el" href="classIECore_1_1InterpolatedCache.html">InterpolatedCache </a> sit on top of IndexedIOInterface and provide a simple framework useable for vertex caching, transform caching and more - in fact any Object subclass can be stored as an element of a cache - this is one of the benefits of combining the object serialisation and random access caching code.</p>
<p>For input and output of third party file formats there are the <a class="el" href="classIECore_1_1Reader.html">Reader </a> and <a class="el" href="classIECore_1_1Writer.html">Writer </a> classes. These contain factory mechanisms for obtaining Readers and Writers given a filename with an extension, and use Parameters to control any conversions during the io process. Currently implementations exist for several common image formats and for the Maya PDC file format.</p>
<div class="fragment"><pre class="fragment"> ObjectPtr o = Reader::create( <span class="stringliteral">&quot;image.jpg&quot;</span> )-&gt;read();
 Writer::create( o, <span class="stringliteral">&quot;image.exr&quot;</span> )-&gt;write();
</pre></div><h2><a class="anchor" id="mainPageRenderingSection">
Rendering</a></h2>
<p><a class="el" href="namespaceIECore.html" title="This namespace contains all components of the core library.">IECore</a> defines the <a class="el" href="classIECore_1_1Renderer.html">Renderer </a> class for the description of scenes to a renderer. The <a class="el" href="classIECoreRI_1_1Renderer.html">IECoreRI::Renderer</a> subclass implements this class for RIB generation and use in DynamicLoad procedurals, and the <a class="el" href="classIECoreGL_1_1Renderer.html">IECoreGL::Renderer</a> subclass implements the same interface in terms of OpenGL, providing fast preview rendering which can be used to visualise procedural results within an <a class="el" href="classIECoreMaya_1_1ProceduralHolder.html">IECoreMaya::ProceduralHolder</a> node.</p>
<p>The Renderable class and subclasses such as <a class="el" href="classIECore_1_1MeshPrimitive.html">MeshPrimitive </a> provide objects which can be manipulated with Ops and which can describe themselves to Renderers.</p>
<h2><a class="anchor" id="mainPageAlgorithmsSection">
Algorithms</a></h2>
<p><a class="el" href="classIECore_1_1KDTree.html">KDTree </a> and <a class="el" href="classIECore_1_1BoundedKDTree.html">BoundedKDTree </a> structures allow for fast spatial queries on large data sets.</p>
<p><a class="el" href="classIECore_1_1PerlinNoise.html">PerlinNoise </a> implements the classic noise function for arbitrary dimensions.</p>
<p>Fast closest point and ray intersection queries can be performed on some of the classes derived from <a class="el" href="classIECore_1_1Primitive.html">Primitive </a>, using an instance of a <a class="el" href="classIECore_1_1PrimitiveEvaluator.html">PrimitiveEvaluator </a>.</p>
<p>A fast, robust implementation of <a class="el" href="classIECore_1_1MarchingCubes.html">MarchingCubes </a> is available for creating meshes from an <a class="el" href="classIECore_1_1ImplicitSurfaceFunction.html">ImplicitSurfaceFunction </a>.</p>
<p>A templated class is avaiable to perform <a class="el" href="classIECore_1_1InverseDistanceWeightedInterpolation.html">InverseDistanceWeightedInterpolation </a> from a set of scattered data points.</p>
<h2><a class="anchor" id="mainPagePythonSection">
Python</a></h2>
<p>All of the <a class="el" href="namespaceIECore.html" title="This namespace contains all components of the core library.">IECore</a> C++ classes are bound into Python using the <a href="http://www.boost.org/libs/python/doc/">boost::python</a> framework. Many can actually be subclassed in python, making it very quick to implement a new Op or Procedural.</p>
<h2><a class="anchor" id="mainPageApplicationSupportSection">
Application support</a></h2>
<p>The generic functionality contained within <a class="el" href="namespaceIECore.html" title="This namespace contains all components of the core library.">IECore</a> is interfaced with specific 3rd party applications and frameworks using additional libraries. These libraries include <a class="el" href="IECoreMaya.html">IECoreMaya</a>, <a class="el" href="namespaceIECoreNuke.html" title="The IECoreNuke namespace holds all the functionality of libIECoreNuke.">IECoreNuke</a>, <a class="el" href="namespaceIECoreGL.html" title="The namespace within which all CoreGL functionality is defined.">IECoreGL</a> and IECoreTruelight.</p>
<h2><a class="anchor" id="mainPageThreadingSection">
Threading</a></h2>
<p>Much of the library is not threadsafe. In general it's best to assume that thread safety doesn't exist unless specified otherwise - specific threading considerations are documented in paragraphs entitled "Threading" within the class documentation. The reference counting used on RefCounted class is thread safe now.</p>
<p>Despite these limitations it is possible to write threaded code making use of a number of useful features of the libraries. See the <a class="el" href="classIECore_1_1PrimitiveEvaluator.html">IECore::PrimitiveEvaluator</a>, <a class="el" href="classIECore_1_1KDTree.html">IECore::KDTree</a> and <a class="el" href="classIECore_1_1BoundedKDTree.html">IECore::BoundedKDTree</a> classes for examples of some algorithms which may be used concurrently by parallel threads. </p>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 5 Jan 2012 for Cortex by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
