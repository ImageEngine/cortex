<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Cortex: IECore::ClassData&lt; ClassTypeT, DataTypeT, DataDeletePolicyT &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceIECore.html">IECore</a>::<a class="el" href="classIECore_1_1ClassData.html">ClassData</a>
  </div>
</div>
<div class="contents">
<h1>IECore::ClassData&lt; ClassTypeT, DataTypeT, DataDeletePolicyT &gt; Class Template Reference</h1><!-- doxytag: class="IECore::ClassData" -->
<p><code>#include &lt;<a class="el" href="ClassData_8h_source.html">ClassData.h</a>&gt;</code></p>

<p><a href="classIECore_1_1ClassData-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5ee95e7c2716ab7c04c6cfdb68ef31e4"></a><!-- doxytag: member="IECore::ClassData::ClassType" ref="a5ee95e7c2716ab7c04c6cfdb68ef31e4" args="" -->
typedef ClassTypeT&nbsp;</td><td class="memItemRight" valign="bottom"><b>ClassType</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a65977eabea04be229c12dde4ae6f82f7"></a><!-- doxytag: member="IECore::ClassData::DataType" ref="a65977eabea04be229c12dde4ae6f82f7" args="" -->
typedef DataTypeT&nbsp;</td><td class="memItemRight" valign="bottom"><b>DataType</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a417d1620c69e9104e4451ed2d703d5f0"></a><!-- doxytag: member="IECore::ClassData::DataDeletePolicy" ref="a417d1620c69e9104e4451ed2d703d5f0" args="" -->
typedef DataDeletePolicyT&nbsp;</td><td class="memItemRight" valign="bottom"><b>DataDeletePolicy</b></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af2d680025721ae9ddcf89b12cf781086"></a><!-- doxytag: member="IECore::ClassData::~ClassData" ref="af2d680025721ae9ddcf89b12cf781086" args="()" -->
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIECore_1_1ClassData.html#af2d680025721ae9ddcf89b12cf781086">~ClassData</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Exercises DataDeletePolicy on all held data. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab4daa9cac221828eb5ea6b70d485b5ad"></a><!-- doxytag: member="IECore::ClassData::create" ref="ab4daa9cac221828eb5ea6b70d485b5ad" args="(const ClassType *classOwner)" -->
DataType &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIECore_1_1ClassData.html#ab4daa9cac221828eb5ea6b70d485b5ad">create</a> (const ClassType *classOwner)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create some uninitialized data for the given class. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af41b649ae628304c2ddda14a23be1ba1"></a><!-- doxytag: member="IECore::ClassData::create" ref="af41b649ae628304c2ddda14a23be1ba1" args="(const ClassType *classOwner, const DataType &amp;d)" -->
DataType &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIECore_1_1ClassData.html#af41b649ae628304c2ddda14a23be1ba1">create</a> (const ClassType *classOwner, const DataType &amp;d)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create some data with initial value as specified for the given class. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const DataType &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIECore_1_1ClassData.html#a2e80237e45aaf66bfc2c3d7b6fc9acda">operator[]</a> (const ClassType *classOwner) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">DataType &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIECore_1_1ClassData.html#ab846e02fdc1b8f9ff5db315d9670a7f3">operator[]</a> (const ClassType *classOwner)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIECore_1_1ClassData.html#af2c54552100a0bcbf6e04a38394fccf1">erase</a> (const ClassType *classOwner)</td></tr>
<tr><td colspan="2"><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2ca4c1e93cb569cbdf7456738cf68aa4"></a><!-- doxytag: member="IECore::ClassData::ClassDataMap" ref="a2ca4c1e93cb569cbdf7456738cf68aa4" args="" -->
typedef std::map&lt; const <br class="typebreak"/>
ClassType *, DataType &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>ClassDataMap</b></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac86c9f6d848d30868a4cb6ba9f719068"></a><!-- doxytag: member="IECore::ClassData::m_classDataMap" ref="ac86c9f6d848d30868a4cb6ba9f719068" args="" -->
ClassDataMap&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_classDataMap</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;typename ClassTypeT, typename DataTypeT, typename DataDeletePolicyT = NullDeleter&lt;DataTypeT&gt;&gt;<br/>
 class IECore::ClassData&lt; ClassTypeT, DataTypeT, DataDeletePolicyT &gt;</h3>

<p>A simple class to allow, for example, extra data to be added to a class for use in cases where simply adding member data would break the library's binary compatibility. Template with the type of the class that data is being added to, the type of the data being added, and policy for deleting that data when the class is destructed. The latter allows use of dynamically-allocated data and arrays.</p>
<p>It the responsibility of the client of this class to implement all creation, deletion, and copy semantics.</p>
<p>Example, which effectively adds an extra member of type "int" to class "A" :</p>
<div class="fragment"><pre class="fragment"> <span class="comment">// In file A.h :</span>
 <span class="keyword">class </span>A
 {
    <span class="keywordtype">int</span> &amp;extraMember();
 };

 <span class="comment">// In file A.cpp:</span>

<span class="preprocessor"> #include &quot;A.h&quot;</span>
<span class="preprocessor"> #include &quot;IECore/ClassData.h&quot;</span>

 <span class="keyword">static</span> <a class="code" href="classIECore_1_1ClassData.html">IECore::ClassData&lt; A, int &gt;</a> g_classData;

 A::A()
 {
    g_classData.<a class="code" href="classIECore_1_1ClassData.html#ab4daa9cac221828eb5ea6b70d485b5ad" title="Create some uninitialized data for the given class.">create</a>( <span class="keyword">this</span>, 4 );
 }

 A::~A()
 {
    g_classData.<a class="code" href="classIECore_1_1ClassData.html#af2c54552100a0bcbf6e04a38394fccf1">erase</a>( <span class="keyword">this</span> );
 }

 <span class="keywordtype">int</span> &amp;A::extraMember()
 {
    <span class="keywordflow">return</span> g_classData[ this ];
 }
</pre></div> <hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="af2c54552100a0bcbf6e04a38394fccf1"></a><!-- doxytag: member="IECore::ClassData::erase" ref="af2c54552100a0bcbf6e04a38394fccf1" args="(const ClassType *classOwner)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ClassTypeT, typename DataTypeT, typename DataDeletePolicyT = NullDeleter&lt;DataTypeT&gt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classIECore_1_1ClassData.html">IECore::ClassData</a>&lt; ClassTypeT, DataTypeT, DataDeletePolicyT &gt;::erase </td>
          <td>(</td>
          <td class="paramtype">const ClassType *&nbsp;</td>
          <td class="paramname"> <em>classOwner</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Exercise DataDeletePolicy on the classOwner's data, and remove it. If the data has not yet been created the behaviour is undefined. </p>

</div>
</div>
<a class="anchor" id="ab846e02fdc1b8f9ff5db315d9670a7f3"></a><!-- doxytag: member="IECore::ClassData::operator[]" ref="ab846e02fdc1b8f9ff5db315d9670a7f3" args="(const ClassType *classOwner)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ClassTypeT, typename DataTypeT, typename DataDeletePolicyT = NullDeleter&lt;DataTypeT&gt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">DataType&amp; <a class="el" href="classIECore_1_1ClassData.html">IECore::ClassData</a>&lt; ClassTypeT, DataTypeT, DataDeletePolicyT &gt;::operator[] </td>
          <td>(</td>
          <td class="paramtype">const ClassType *&nbsp;</td>
          <td class="paramname"> <em>classOwner</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Read/write access to the data associated with the class. If the data has not yet been created the behaviour is undefined. </p>

</div>
</div>
<a class="anchor" id="a2e80237e45aaf66bfc2c3d7b6fc9acda"></a><!-- doxytag: member="IECore::ClassData::operator[]" ref="a2e80237e45aaf66bfc2c3d7b6fc9acda" args="(const ClassType *classOwner) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ClassTypeT, typename DataTypeT, typename DataDeletePolicyT = NullDeleter&lt;DataTypeT&gt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const DataType&amp; <a class="el" href="classIECore_1_1ClassData.html">IECore::ClassData</a>&lt; ClassTypeT, DataTypeT, DataDeletePolicyT &gt;::operator[] </td>
          <td>(</td>
          <td class="paramtype">const ClassType *&nbsp;</td>
          <td class="paramname"> <em>classOwner</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Const access to the data associated with the class. If the data has not yet been created the behaviour is undefined. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/IECore/<a class="el" href="ClassData_8h_source.html">ClassData.h</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 5 Jan 2012 for Cortex by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
