<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Cortex: IECore::Primitive Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceIECore.html">IECore</a>::<a class="el" href="classIECore_1_1Primitive.html">Primitive</a>
  </div>
</div>
<div class="contents">
<h1>IECore::Primitive Class Reference<br/>
<small>
[<a class="el" href="group__geometryGroup.html">Geometry</a>]</small>
</h1><!-- doxytag: class="IECore::Primitive" --><!-- doxytag: inherits="IECore::VisibleRenderable" -->
<p><code>#include &lt;<a class="el" href="Primitive_8h_source.html">Primitive.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for IECore::Primitive:</div>
<div class="dynsection">
 <div class="center">
  <img src="classIECore_1_1Primitive.gif" usemap="#IECore::Primitive_map" alt=""/>
  <map id="IECore::Primitive_map" name="IECore::Primitive_map">
<area href="classIECore_1_1VisibleRenderable.html" alt="IECore::VisibleRenderable" shape="rect" coords="534,280,702,304"/>
<area href="classIECore_1_1Renderable.html" alt="IECore::Renderable" shape="rect" coords="534,224,702,248"/>
<area href="classIECore_1_1BlindDataHolder.html" alt="IECore::BlindDataHolder" shape="rect" coords="534,168,702,192"/>
<area href="classIECore_1_1Object.html" alt="IECore::Object" shape="rect" coords="534,112,702,136"/>
<area href="classIECore_1_1RunTimeTyped.html" alt="IECore::RunTimeTyped" shape="rect" coords="534,56,702,80"/>
<area href="classIECore_1_1RefCounted.html" alt="IECore::RefCounted" shape="rect" coords="534,0,702,24"/>
<area href="classIECore_1_1CurvesPrimitive.html" alt="IECore::CurvesPrimitive" shape="rect" coords="0,392,168,416"/>
<area href="classIECore_1_1ImagePrimitive.html" alt="IECore::ImagePrimitive" shape="rect" coords="178,392,346,416"/>
<area href="classIECore_1_1MeshPrimitive.html" alt="IECore::MeshPrimitive" shape="rect" coords="356,392,524,416"/>
<area href="classIECore_1_1NURBSPrimitive.html" alt="IECore::NURBSPrimitive" shape="rect" coords="534,392,702,416"/>
<area href="classIECore_1_1PatchMeshPrimitive.html" alt="IECore::PatchMeshPrimitive" shape="rect" coords="712,392,880,416"/>
<area href="classIECore_1_1PointsPrimitive.html" alt="IECore::PointsPrimitive" shape="rect" coords="890,392,1058,416"/>
<area href="classIECore_1_1SpherePrimitive.html" alt="IECore::SpherePrimitive" shape="rect" coords="1068,392,1236,416"/>
</map>
 </div>
</div>

<p><a href="classIECore_1_1Primitive-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a41e951bde02583833e3ca93c98a79c82"></a><!-- doxytag: member="IECore::Primitive::IE_CORE_DECLAREABSTRACTOBJECT" ref="a41e951bde02583833e3ca93c98a79c82" args="(Primitive, VisibleRenderable)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>IE_CORE_DECLAREABSTRACTOBJECT</b> (<a class="el" href="classIECore_1_1Primitive.html">Primitive</a>, <a class="el" href="classIECore_1_1VisibleRenderable.html">VisibleRenderable</a>)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">T *&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classIECore_1_1Primitive.html#a783b5d6f68aaf2c34eb52c189340c14b">variableData</a> (const std::string &amp;name, <a class="el" href="structIECore_1_1PrimitiveVariable.html#a05cb700c5a060730f18789e29da07e31">PrimitiveVariable::Interpolation</a> requiredInterpolation=PrimitiveVariable::Invalid)</td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="adfcebf37ded20f6afdea0ca09cfd6e94"></a><!-- doxytag: member="IECore::Primitive::variableData" ref="adfcebf37ded20f6afdea0ca09cfd6e94" args="(const std::string &amp;name, PrimitiveVariable::Interpolation requiredInterpolation=PrimitiveVariable::Invalid) const " -->
template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">const T *&nbsp;</td><td class="memTemplItemRight" valign="bottom"><b>variableData</b> (const std::string &amp;name, <a class="el" href="structIECore_1_1PrimitiveVariable.html#a05cb700c5a060730f18789e29da07e31">PrimitiveVariable::Interpolation</a> requiredInterpolation=PrimitiveVariable::Invalid) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1f6de79ab5576c107cd920d046376332"></a><!-- doxytag: member="IECore::Primitive::isPrimitiveVariableValid" ref="a1f6de79ab5576c107cd920d046376332" args="(const PrimitiveVariable &amp;pv) const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIECore_1_1Primitive.html#a1f6de79ab5576c107cd920d046376332">isPrimitiveVariableValid</a> (const <a class="el" href="structIECore_1_1PrimitiveVariable.html">PrimitiveVariable</a> &amp;pv) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if the given primitive variable has the correct size for its interpolation type. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5cc777f0c60b91e8c575d0099fb859cf"></a><!-- doxytag: member="IECore::Primitive::arePrimitiveVariablesValid" ref="a5cc777f0c60b91e8c575d0099fb859cf" args="() const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIECore_1_1Primitive.html#a5cc777f0c60b91e8c575d0099fb859cf">arePrimitiveVariablesValid</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if all primitive variables have the correct size for their interpolation type. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structIECore_1_1PrimitiveVariable.html#a05cb700c5a060730f18789e29da07e31">PrimitiveVariable::Interpolation</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIECore_1_1Primitive.html#a3aaccf1c11a22c5823c49db5e033a502">inferInterpolation</a> (size_t numElements) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structIECore_1_1PrimitiveVariable.html#a05cb700c5a060730f18789e29da07e31">PrimitiveVariable::Interpolation</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIECore_1_1Primitive.html#ac722f037d95514450822d64849c8f964">inferInterpolation</a> (const <a class="el" href="classIECore_1_1Data.html">Data</a> *data) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual Imath::Box3f&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIECore_1_1Primitive.html#a603bf122b77ff0084e2da5fafd93a338">bound</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIECore_1_1Primitive.html#a640d8047fd04b1f0b611551f9adec474">variableSize</a> (<a class="el" href="structIECore_1_1PrimitiveVariable.html#a05cb700c5a060730f18789e29da07e31">PrimitiveVariable::Interpolation</a> interpolation) const =0</td></tr>
<tr><td colspan="2"><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a249cebe77cd4ae331003ade469127e9c"></a><!-- doxytag: member="IECore::Primitive::variables" ref="a249cebe77cd4ae331003ade469127e9c" args="" -->
<a class="el" href="namespaceIECore.html#a8831a05758aad0cc4f1968f74afdffca">PrimitiveVariableMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIECore_1_1Primitive.html#a249cebe77cd4ae331003ade469127e9c">variables</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Variables a stored as a public map for easy manipulation. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The <a class="el" href="classIECore_1_1Primitive.html">Primitive</a> class defines an abstract base for <a class="el" href="classIECore_1_1Renderable.html">Renderable</a> primitives. Primitives are expected to be objects which are visible in final rendered images rather than Renderables which just change some part of the renderer state (such as an attribute). Primitives may hold "primitive variables" which are simply values which vary over the surface of the <a class="el" href="classIECore_1_1Primitive.html">Primitive</a> and can be used by the renderer to define various aspects of its appearance. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000045">Todo:</a></b></dt><dd>Validation of variableSizes before rendering. </dd></dl>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a603bf122b77ff0084e2da5fafd93a338"></a><!-- doxytag: member="IECore::Primitive::bound" ref="a603bf122b77ff0084e2da5fafd93a338" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual Imath::Box3f IECore::Primitive::bound </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Implemented to return a box containing all the points in the variable "P" if it exists. </p>

<p>Implements <a class="el" href="classIECore_1_1VisibleRenderable.html#ab609d9071c73eeb4a11a70059a81a9d2">IECore::VisibleRenderable</a>.</p>

<p>Reimplemented in <a class="el" href="classIECore_1_1ImagePrimitive.html#afef8c5f665afa6c91c997185da319af6">IECore::ImagePrimitive</a>, and <a class="el" href="classIECore_1_1SpherePrimitive.html#ac2a2a181f6005a5e52d2fecac8f7c142">IECore::SpherePrimitive</a>.</p>

</div>
</div>
<a class="anchor" id="ac722f037d95514450822d64849c8f964"></a><!-- doxytag: member="IECore::Primitive::inferInterpolation" ref="ac722f037d95514450822d64849c8f964" args="(const Data *data) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structIECore_1_1PrimitiveVariable.html#a05cb700c5a060730f18789e29da07e31">PrimitiveVariable::Interpolation</a> IECore::Primitive::inferInterpolation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classIECore_1_1Data.html">Data</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convenience function which finds the size of data and calls the above method. </p>

</div>
</div>
<a class="anchor" id="a3aaccf1c11a22c5823c49db5e033a502"></a><!-- doxytag: member="IECore::Primitive::inferInterpolation" ref="a3aaccf1c11a22c5823c49db5e033a502" args="(size_t numElements) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structIECore_1_1PrimitiveVariable.html#a05cb700c5a060730f18789e29da07e31">PrimitiveVariable::Interpolation</a> IECore::Primitive::inferInterpolation </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>numElements</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Guesses a suitable interpolation type for a <a class="el" href="structIECore_1_1PrimitiveVariable.html">PrimitiveVariable</a> containing the specified number of data elements. Returns PrimitiveVariable::Invalid if no such interpolation exists. Note that for a given size multiple interpolation types may well be valid, so this method may not always give the desired results. In the case of multiple suitable types, interpolations are given the following priority (highest first) :</p>
<p>Constant Uniform Vertex Varying FaceVarying </p>

</div>
</div>
<a class="anchor" id="a783b5d6f68aaf2c34eb52c189340c14b"></a><!-- doxytag: member="IECore::Primitive::variableData" ref="a783b5d6f68aaf2c34eb52c189340c14b" args="(const std::string &amp;name, PrimitiveVariable::Interpolation requiredInterpolation=PrimitiveVariable::Invalid)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T* IECore::Primitive::variableData </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structIECore_1_1PrimitiveVariable.html#a05cb700c5a060730f18789e29da07e31">PrimitiveVariable::Interpolation</a>&nbsp;</td>
          <td class="paramname"> <em>requiredInterpolation</em> = <code>PrimitiveVariable::Invalid</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convenience function to find name in variables, and returning a runTimeCast to the requested type. If requiredInterpolation is specified then 0 is returned if the interpolation doesn't match. </p>

</div>
</div>
<a class="anchor" id="a640d8047fd04b1f0b611551f9adec474"></a><!-- doxytag: member="IECore::Primitive::variableSize" ref="a640d8047fd04b1f0b611551f9adec474" args="(PrimitiveVariable::Interpolation interpolation) const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t IECore::Primitive::variableSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structIECore_1_1PrimitiveVariable.html#a05cb700c5a060730f18789e29da07e31">PrimitiveVariable::Interpolation</a>&nbsp;</td>
          <td class="paramname"> <em>interpolation</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the number of values a piece of data must provide for the given interpolation type. Must be implemented in all derived classes. </p>

<p>Implemented in <a class="el" href="classIECore_1_1CurvesPrimitive.html#ad11ec2e1a9b004a2b69ede65067a700a">IECore::CurvesPrimitive</a>, <a class="el" href="classIECore_1_1ImagePrimitive.html#a7b85fc968ad4629831953bce99997f57">IECore::ImagePrimitive</a>, <a class="el" href="classIECore_1_1MeshPrimitive.html#a637fc4c9d28f6f672b84c9e157101f9e">IECore::MeshPrimitive</a>, <a class="el" href="classIECore_1_1NURBSPrimitive.html#a93a1e3e8751700db8354a2a38a07fce0">IECore::NURBSPrimitive</a>, <a class="el" href="classIECore_1_1PatchMeshPrimitive.html#a10f5f84e55b0001ebce0e4ec42f287dd">IECore::PatchMeshPrimitive</a>, <a class="el" href="classIECore_1_1PointsPrimitive.html#a9e3eedaf8555cf8c308c04f7c9726bed">IECore::PointsPrimitive</a>, and <a class="el" href="classIECore_1_1SpherePrimitive.html#a5e696e62fd006bae0c3b55af1871595e">IECore::SpherePrimitive</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/IECore/<a class="el" href="Primitive_8h_source.html">Primitive.h</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 5 Jan 2012 for Cortex by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
