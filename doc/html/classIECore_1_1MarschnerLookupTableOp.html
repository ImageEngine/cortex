<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Cortex: IECore::MarschnerLookupTableOp Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceIECore.html">IECore</a>::<a class="el" href="classIECore_1_1MarschnerLookupTableOp.html">MarschnerLookupTableOp</a>
  </div>
</div>
<div class="contents">
<h1>IECore::MarschnerLookupTableOp Class Reference<br/>
<small>
[<a class="el" href="group__renderingGroup.html">Rendering</a>]</small>
</h1><!-- doxytag: class="IECore::MarschnerLookupTableOp" --><!-- doxytag: inherits="IECore::Op" -->
<p><code>#include &lt;<a class="el" href="MarschnerLookupTableOp_8h_source.html">MarschnerLookupTableOp.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for IECore::MarschnerLookupTableOp:</div>
<div class="dynsection">
 <div class="center">
  <img src="classIECore_1_1MarschnerLookupTableOp.gif" usemap="#IECore::MarschnerLookupTableOp_map" alt=""/>
  <map id="IECore::MarschnerLookupTableOp_map" name="IECore::MarschnerLookupTableOp_map">
<area href="classIECore_1_1Op.html" alt="IECore::Op" shape="rect" coords="109,168,317,192"/>
<area href="classIECore_1_1Parameterised.html" alt="IECore::Parameterised" shape="rect" coords="109,112,317,136"/>
<area href="classIECore_1_1RunTimeTyped.html" alt="IECore::RunTimeTyped" shape="rect" coords="0,56,208,80"/>
<area href="classIECore_1_1ParameterisedInterface.html" alt="IECore::ParameterisedInterface" shape="rect" coords="218,56,426,80"/>
<area href="classIECore_1_1RefCounted.html" alt="IECore::RefCounted" shape="rect" coords="0,0,208,24"/>
</map>
 </div>
</div>

<p><a href="classIECore_1_1MarschnerLookupTableOp-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0e05778dc9d9f26b29d4c6bb59bb1aa3"></a><!-- doxytag: member="IECore::MarschnerLookupTableOp::IE_CORE_DECLARERUNTIMETYPEDEXTENSION" ref="a0e05778dc9d9f26b29d4c6bb59bb1aa3" args="(MarschnerLookupTableOp, MarschnerLookupTableOpTypeId, Op)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>IE_CORE_DECLARERUNTIMETYPEDEXTENSION</b> (<a class="el" href="classIECore_1_1MarschnerLookupTableOp.html">MarschnerLookupTableOp</a>, MarschnerLookupTableOpTypeId, <a class="el" href="classIECore_1_1Op.html">Op</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIECore_1_1MarschnerLookupTableOp.html#a58ba8d222d8ccb01c6c918042f36064d">MarschnerLookupTableOp</a> (const bool absorptionAsColor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7830237846fd32283403a234d06a52c2"></a><!-- doxytag: member="IECore::MarschnerLookupTableOp::modelParameter" ref="a7830237846fd32283403a234d06a52c2" args="()" -->
<a class="el" href="classIECore_1_1MarschnerParameter.html">MarschnerParameter</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIECore_1_1MarschnerLookupTableOp.html#a7830237846fd32283403a234d06a52c2">modelParameter</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The parameters for Marschner model to be evaluated. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6294cc0f18d245caf7766d5600083ca6"></a><!-- doxytag: member="IECore::MarschnerLookupTableOp::modelParameter" ref="a6294cc0f18d245caf7766d5600083ca6" args="() const " -->
const <a class="el" href="classIECore_1_1MarschnerParameter.html">MarschnerParameter</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>modelParameter</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad9b14a0b7bd6f3ebd0468e5d1f0f2755"></a><!-- doxytag: member="IECore::MarschnerLookupTableOp::resolutionParameter" ref="ad9b14a0b7bd6f3ebd0468e5d1f0f2755" args="()" -->
<a class="el" href="classIECore_1_1NumericParameter.html">IntParameter</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIECore_1_1MarschnerLookupTableOp.html#ad9b14a0b7bd6f3ebd0468e5d1f0f2755">resolutionParameter</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The resolution of the resulting lookup images. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab30a099d820ed9e425e6d76410d4e477"></a><!-- doxytag: member="IECore::MarschnerLookupTableOp::resolutionParameter" ref="ab30a099d820ed9e425e6d76410d4e477" args="() const " -->
const <a class="el" href="classIECore_1_1NumericParameter.html">IntParameter</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>resolutionParameter</b> () const </td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual ObjectPtr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIECore_1_1MarschnerLookupTableOp.html#a9f6d77822f9579809a820e53d074a1ce">doOperation</a> (const <a class="el" href="classIECore_1_1CompoundObject.html">CompoundObject</a> *operands)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This <a class="el" href="classIECore_1_1Op.html">Op</a> allows lookup tables to be generated to cover a range of light and eye angles incident to the Marschner et al. reflectance model. These lookups may be used for GPU acceleration, and other such things. Based on the ideas presented in GPUGems Chapter 23.</p>
<p><a href="http://http.developer.nvidia.com/GPUGems2/gpugems2_chapter23.html">http://http.developer.nvidia.com/GPUGems2/gpugems2_chapter23.html</a></p>
<p>The resulting image contains the following channels:</p>
<p>with:</p>
<p>s = sin( light.y ) from -1.0 to 1.0 t = sin( eye.y ) from -1.0 to 1.0</p>
<p>: MR = MR(eye,light) / 30.0 : MTT = MTT(eye,light) / 30.0 : MTRT = MTRT(eye,light) / 30.0 : cosDiffTheta = ( cos( (light.y-eye.y)/2.0 ) + 1.0 ) / 2.0</p>
<p>with:</p>
<p>s = cosDiffTheta -1.0 to 1.0 t = cos( light.x - eye.x ) from -1.0 to 1.0</p>
<p>: NR = NR( eye, light ).x : NTT.[rgb] = NR( eye, light ) : NTRT.[rgb] = NR( eye, light )</p>
<p>NOTE: This this is keyed with the -1.0 values of s/t at 0. In an OpenGL implementation you may need to use 1-t as your lookup, rather than t. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a58ba8d222d8ccb01c6c918042f36064d"></a><!-- doxytag: member="IECore::MarschnerLookupTableOp::MarschnerLookupTableOp" ref="a58ba8d222d8ccb01c6c918042f36064d" args="(const bool absorptionAsColor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IECore::MarschnerLookupTableOp::MarschnerLookupTableOp </td>
          <td>(</td>
          <td class="paramtype">const bool&nbsp;</td>
          <td class="paramname"> <em>absorptionAsColor</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>absorptionAsColor</em>&nbsp;</td><td>Switches the behaviour of the <a class="el" href="classIECore_1_1MarschnerParameter.html">MarschnerParameter</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classIECore_1_1MarschnerParameter.html">MarschnerParameter</a> </dd></dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a9f6d77822f9579809a820e53d074a1ce"></a><!-- doxytag: member="IECore::MarschnerLookupTableOp::doOperation" ref="a9f6d77822f9579809a820e53d074a1ce" args="(const CompoundObject *operands)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual ObjectPtr IECore::MarschnerLookupTableOp::doOperation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classIECore_1_1CompoundObject.html">CompoundObject</a> *&nbsp;</td>
          <td class="paramname"> <em>operands</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called by <a class="el" href="classIECore_1_1Op.html#a7717aa4ef327625079a44b7c59020117">operate()</a> to actually perform the operation. operands contains the result of <a class="el" href="classIECore_1_1Parameterised.html#ae773218ddcad02a5c80d2963404219cf">parameters()</a>-&gt;getValidatedValue - this function will never be called when the contents of the parameters are in a bad state. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000039">Todo:</a></b></dt><dd>This should be const. </dd></dl>

<p>Implements <a class="el" href="classIECore_1_1Op.html#adcb346068dc479f9e8cebeb321b08be9">IECore::Op</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/IECore/<a class="el" href="MarschnerLookupTableOp_8h_source.html">MarschnerLookupTableOp.h</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 5 Jan 2012 for Cortex by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
